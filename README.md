# ä¸œé£ç ´ - æ™ºèƒ½è‚¡ç¥¨åˆ†æç³»ç»Ÿ

## é¡¹ç›®ç®€ä»‹

ä¸œé£ç ´æ˜¯ä¸€ä¸ªä¸“ä¸šçš„Aè‚¡æ™ºèƒ½åˆ†æç³»ç»Ÿï¼Œæä¾›å®æ—¶å¼‚åŠ¨æ£€æµ‹ã€æŠ€æœ¯åˆ†æã€èµ„é‡‘æµå‘ç›‘æ§ç­‰å¤šç»´åº¦çš„å¸‚åœºåˆ†æåŠŸèƒ½ã€‚ç³»ç»Ÿé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œæ”¯æŒé«˜å¹¶å‘å®æ—¶æ•°æ®å¤„ç†ã€‚

## ğŸŒŸ æ ¸å¿ƒåŠŸèƒ½

### ğŸ“ˆ å®æ—¶è¡Œæƒ…ç›‘æ§
- **åˆ†æ—¶å›¾è¡¨**: é«˜ç²¾åº¦åˆ†æ—¶å›¾å±•ç¤ºï¼Œæ”¯æŒæ˜¨æ”¶ä»·åŸºå‡†çº¿
- **Kçº¿å›¾è¡¨**: å¤šå‘¨æœŸKçº¿å›¾ï¼ˆæ—¥çº¿ã€å‘¨çº¿ã€æœˆçº¿ï¼‰
- **å®æ—¶åˆ·æ–°**: 15ç§’è‡ªåŠ¨åˆ·æ–°ï¼Œå®æ—¶æ•æ‰å¸‚åœºå˜åŒ–
- **å¤šè‚¡ç›‘æ§**: æ”¯æŒåŒæ—¶ç›‘æ§55+åªè‚¡ç¥¨

### ğŸš€ AIå¼‚åŠ¨æ£€æµ‹
- **æ™ºèƒ½è¯†åˆ«**: åŸºäºæœºå™¨å­¦ä¹ çš„å¼‚åŠ¨æ¨¡å¼è¯†åˆ«
- **å¤šç»´åˆ†æ**: æ¶¨é€Ÿã€æˆäº¤é‡ã€èµ„é‡‘æµç­‰å¤šç»´åº¦å¼‚åŠ¨æ£€æµ‹
- **çŠ¶æ€åˆ†ç±»**: å¼€å§‹æ‹‰å‡/æŒç»­/å¿«åœ/æ¶¨åœç­‰ç²¾ç»†çŠ¶æ€
- **å®æ—¶é¢„è­¦**: å¼‚åŠ¨å‘ç”Ÿæ—¶ç«‹å³æ¨é€é€šçŸ¥

### ğŸ“Š çƒ­é—¨æ¿å—è¿½è¸ª
- **æ¿å—è½®åŠ¨**: å®æ—¶ç›‘æ§æ¿å—èµ„é‡‘æµå‘
- **çƒ­åº¦æ’åº**: æŒ‰å¼‚åŠ¨æ•°é‡å’Œæ¶¨å¹…æ™ºèƒ½æ’åº
- **æˆåˆ†è‚¡åˆ†æ**: æ·±å…¥åˆ†ææ¿å—å†…ä¸ªè‚¡è¡¨ç°
- **æ—¶æ•ˆæ€§ç­›é€‰**: æ”¯æŒ10åˆ†é’Ÿã€30åˆ†é’Ÿç­‰æ—¶é—´çª—å£

### ğŸ’° èµ„é‡‘æµå‘åˆ†æ
- **å¤§å•ç›‘æ§**: è¯†åˆ«è¶…è¿‡300ä¸‡å…ƒçš„ä¸»åŠ›å¤§å•
- **èµ„é‡‘ç»Ÿè®¡**: ä¸»åŠ¨ä¹°å…¥/å–å‡ºèµ„é‡‘å®æ—¶è®¡ç®—
- **æµå‘è¶‹åŠ¿**: è¿‘2åˆ†é’Ÿã€5åˆ†é’Ÿèµ„é‡‘æµå‘åˆ†æ
- **ä¸»åŠ›è¡Œä¸º**: è¿½è¸ªä¸»åŠ›å»ºä»“ã€æ´—ç›˜ã€æ‹‰å‡è¡Œä¸º

### ğŸ“ æ”¯æ’‘é˜»åŠ›åˆ†æ
- **åŠ¨æ€è®¡ç®—**: åŸºäºæˆäº¤å¯†é›†åŒºçš„æ”¯æ’‘é˜»åŠ›ä½
- **å¤šå‘¨æœŸéªŒè¯**: æ—¥çº¿ã€å‘¨çº¿ã€æœˆçº¿å¤šå‘¨æœŸç¡®è®¤
- **å¼ºåº¦è¯„çº§**: æ”¯æ’‘é˜»åŠ›ä½å¼ºåº¦é‡åŒ–è¯„åˆ†
- **çªç ´æé†’**: ä»·æ ¼æ¥è¿‘æˆ–çªç ´å…³é”®ä½æ—¶é¢„è­¦

### ğŸ”§ æŠ€æœ¯æŒ‡æ ‡
- **å‡çº¿ç³»ç»Ÿ**: MA5/10/20/60å¤šå‘¨æœŸå‡çº¿
- **æˆäº¤é‡åˆ†æ**: é‡æ¯”ã€æ¢æ‰‹ç‡ã€æˆäº¤é¢åˆ†æ
- **æŠ€æœ¯å½¢æ€**: æ¨ªç›˜çªç ´ã€åº•éƒ¨å½¢æ€è¯†åˆ«
- **åŠ¨é‡æŒ‡æ ‡**: RSIã€MACDç­‰ç»å…¸æŒ‡æ ‡

## ç³»ç»Ÿæ¶æ„

### æŠ€æœ¯æ ˆ
- **å‰ç«¯**: React 18 + TypeScript + ECharts 5
- **åç«¯**: Python 3.8+ + FastAPI + Uvicorn
- **æ•°æ®æº**: è…¾è®¯è´¢ç»ã€ä¸œæ–¹è´¢å¯Œã€æ–°æµªè´¢ç»
- **ç¼“å­˜**: å†…å­˜ç¼“å­˜ + æ–‡ä»¶ç¼“å­˜
- **é€šä¿¡**: RESTful API + WebSocketï¼ˆè§„åˆ’ä¸­ï¼‰

### é¡¹ç›®ç»“æ„

```
ä¸œé£ç ´/
â”œâ”€â”€ frontend/                    # Reactå‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/         # Reactç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ TimeShareChartFixed.tsx  # åˆ†æ—¶å›¾ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ StockChart.tsx          # Kçº¿å›¾ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ AnomalyPanel.tsx        # å¼‚åŠ¨é¢æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ HotSectors.tsx          # çƒ­é—¨æ¿å—
â”‚   â”‚   â”‚   â””â”€â”€ SupportResistance/      # æ”¯æ’‘é˜»åŠ›ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/           # APIæœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ api.service.ts  # ç»Ÿä¸€APIæœåŠ¡ç±»
â”‚   â”‚   â”‚   â””â”€â”€ api.ts          # APIæ¥å£å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰Hooks
â”‚   â”‚   â”‚   â””â”€â”€ useResourceManager.ts  # èµ„æºç®¡ç†
â”‚   â”‚   â””â”€â”€ App.tsx             # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â””â”€â”€ package.json            # å‰ç«¯ä¾èµ–
â”‚
â”œâ”€â”€ services/                   # åˆ†æ—¶æ•°æ®å¤„ç†ä¸­å¿ƒé‡æ„æœåŠ¡
â”‚   â”œâ”€â”€ collector-gateway/     # è¡Œæƒ…é‡‡é›†
â”‚   â”œâ”€â”€ stream-buffer/         # æµå¼ç¼“å†²å¤åˆ¶
â”‚   â”œâ”€â”€ data-cleaner/          # Tick æ¸…æ´—
â”‚   â”œâ”€â”€ data-lake-writer/      # å†å²è½åœ°
â”‚   â”œâ”€â”€ feature-pipeline/      # ç‰¹å¾è®¡ç®—
â”‚   â”œâ”€â”€ strategy-engine/       # ç­–ç•¥æ‰§è¡Œ
â”‚   â”œâ”€â”€ opportunity-aggregator/# æœºä¼šèšåˆ
â”‚   â”œâ”€â”€ risk-guard/            # é£é™©æç¤º
â”‚   â”œâ”€â”€ signal-api/            # REST æŸ¥è¯¢
â”‚   â”œâ”€â”€ signal-streamer/       # WebSocket æ¨é€
â”‚   â””â”€â”€ backtest-service/      # ç­–ç•¥å›æµ‹
â”‚
â”œâ”€â”€ backend/                    # é—ç•™åç«¯ï¼ˆå…¼å®¹æ—§æ¥å£ï¼‰
â”œâ”€â”€ data/                       # é…ç½®/æ•°æ®æ–‡ä»¶
â”œâ”€â”€ scripts/                    # å¯åŠ¨åŠå·¥å…·è„šæœ¬
â””â”€â”€ docs/                      # é¡¹ç›®æ–‡æ¡£ï¼ˆå«æœåŠ¡æ€»è§ˆã€å¯åŠ¨æŒ‡å—ã€ç¯å¢ƒå˜é‡ï¼‰

æ›´å¤šè¿è¡Œç»†èŠ‚ã€ç¯å¢ƒå˜é‡åŠæµ‹è¯•ç­–ç•¥è¯·æŸ¥é˜…ï¼š

- `docs/åˆ†æ—¶æ•°æ®å¤„ç†ä¸­å¿ƒæœåŠ¡æ€»è§ˆ.md`
- `docs/åˆ†æ—¶æ•°æ®å¤„ç†ä¸­å¿ƒå¯åŠ¨æŒ‡å—.md`
- `docs/åˆ†æ—¶æ•°æ®å¤„ç†ä¸­å¿ƒç¯å¢ƒå˜é‡.md`
- `docs/æµ‹è¯•ç­–ç•¥.md`
- `docs/å‰ç«¯æ•°æ®æ¥å…¥æŒ‡å—.md`
```

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- macOS 10.14+ / Linux / Windows
- Node.js 16+
- Python 3.8+
- å†…å­˜ 4GB+

### å®‰è£…æ­¥éª¤

#### 1. å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/yourusername/dongfengpo.git
cd dongfengpo
```
> å»ºè®®å¤åˆ¶ `.env.example` ä¸º `.env` å¹¶å‚è€ƒ `docs/åˆ†æ—¶æ•°æ®å¤„ç†ä¸­å¿ƒç¯å¢ƒå˜é‡.md` å®Œæˆç¯å¢ƒå˜é‡é…ç½®ã€‚

#### 2. å®‰è£…åç«¯ä¾èµ–
```bash
cd backend
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt
```

#### 3. å®‰è£…å‰ç«¯ä¾èµ–
```bash
cd ../frontend
npm install
```

### è¿è¡Œç³»ç»Ÿ

- **åˆ†æ—¶æ•°æ®å¤„ç†ä¸­å¿ƒ**ï¼š
  - æ¨èä½¿ç”¨è„šæœ¬ `scripts/start_pipeline.sh` ä¸€é”®å¯åŠ¨ä¸»è¦ Python æœåŠ¡ï¼ˆéœ€æå‰å®‰è£…æ‰€éœ€ä¾èµ–ï¼‰ã€‚
  - æˆ–å‚è€ƒ `docs/åˆ†æ—¶æ•°æ®å¤„ç†ä¸­å¿ƒå¯åŠ¨æŒ‡å—.md`ï¼Œæ‰‹åŠ¨é€ä¸€å¯åŠ¨ä¸é…ç½®ã€‚
  - æ”¯æŒä½¿ç”¨ `docker compose` å¯åŠ¨å®¹å™¨åŒ–æœåŠ¡ï¼ˆè§å¯åŠ¨æŒ‡å—ç¬¬ 6 èŠ‚ï¼‰ã€‚
- **é—ç•™å‰åç«¯åº”ç”¨**ï¼š

```bash
# å¯åŠ¨ FastAPI åç«¯
cd backend
uvicorn main:app --host 0.0.0.0 --port 9000 --reload

# å¯åŠ¨ React å‰ç«¯
cd ../frontend
npm start
```

## æµ‹è¯•

è¿è¡Œå…³é”®æœåŠ¡çš„ç¼–è¯‘æ£€æŸ¥ä¸å•å…ƒæµ‹è¯•ï¼š

```bash
chmod +x scripts/run_tests.sh
./scripts/run_tests.sh
```

æ›´å¤šæµ‹è¯•è¯´æ˜è§ `docs/æµ‹è¯•ç­–ç•¥.md`ã€‚

## é…ç½®è¯´æ˜

### ç«¯å£é…ç½®
- å‰ç«¯: 3000ï¼ˆå¯åœ¨ frontend/.env ä¿®æ”¹ï¼‰
- åç«¯: 9000ï¼ˆå¯åœ¨ backend/.env ä¿®æ”¹ï¼‰

### ç¯å¢ƒå˜é‡
åˆ›å»º `backend/.env` æ–‡ä»¶ï¼š
```env
API_HOST=0.0.0.0
API_PORT=9000
CORS_ORIGINS=["http://localhost:3000"]
ENABLE_CACHE=true
CACHE_TTL=300
MONITORING_INTERVAL=15
MAX_MONITORING_STOCKS=100
LOG_LEVEL=INFO
```

### ç”¨æˆ·é…ç½®
ç¼–è¾‘ `data/config.json` è‡ªå®šä¹‰ç›‘æ§è‚¡ç¥¨æ± å’Œé¢„è­¦å‚æ•°ã€‚

## APIæ–‡æ¡£

### ä¸»è¦æ¥å£

#### è‚¡ç¥¨æ•°æ®
- `GET /api/stocks/{code}/realtime` - å®æ—¶è¡Œæƒ…
- `GET /api/stocks/{code}/timeshare` - åˆ†æ—¶æ•°æ®
- `GET /api/stocks/{code}/kline` - Kçº¿æ•°æ®

#### å¼‚åŠ¨æ£€æµ‹
- `GET /api/anomaly/detect-legacy` - AIå¼‚åŠ¨æ£€æµ‹
- `GET /api/anomaly/hot-sectors` - çƒ­é—¨æ¿å—
- `GET /api/anomaly/sector-stocks/{sector}` - æ¿å—æˆåˆ†è‚¡

#### æŠ€æœ¯åˆ†æ
- `POST /api/support-resistance/tdx/calculate` - æ”¯æ’‘é˜»åŠ›è®¡ç®—
- `GET /api/transaction/analyze/{code}` - æˆäº¤åˆ†æ

å®Œæ•´APIæ–‡æ¡£è®¿é—®: http://localhost:9000/docs

## æ€§èƒ½ä¼˜åŒ–

### å·²å®ç°ä¼˜åŒ–
- âœ… å¤šçº§ç¼“å­˜æœºåˆ¶ï¼ˆå†…å­˜+æ–‡ä»¶ï¼‰
- âœ… æ‰¹é‡æ•°æ®è¯·æ±‚åˆå¹¶
- âœ… å¼‚æ­¥å¹¶å‘å¤„ç†
- âœ… èµ„æºè‡ªåŠ¨æ¸…ç†
- âœ… é”™è¯¯é‡è¯•æœºåˆ¶

### æ€§èƒ½æŒ‡æ ‡
- APIå“åº”æ—¶é—´: <100ms (ç¼“å­˜å‘½ä¸­)
- å®æ—¶æ•°æ®å»¶è¿Ÿ: <1s
- å¹¶å‘æ”¯æŒ: 100+ è¿æ¥
- å†…å­˜å ç”¨: <500MB

## å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ
- å‰ç«¯: ESLint + Prettier
- åç«¯: Black + isort + mypy
- Git: Conventional Commits

### æµ‹è¯•
```bash
# åç«¯æµ‹è¯•
cd backend
pytest tests/

# å‰ç«¯æµ‹è¯•
cd frontend
npm test
```

### æ„å»ºéƒ¨ç½²
```bash
# å‰ç«¯æ„å»º
cd frontend
npm run build

# Dockeréƒ¨ç½²ï¼ˆå¼€å‘ä¸­ï¼‰
docker-compose up -d
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç«¯å£å ç”¨**
   ```bash
   # æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
   lsof -i :3000
   lsof -i :9000
   ```

2. **ä¾èµ–å®‰è£…å¤±è´¥**
   ```bash
   # ä½¿ç”¨å›½å†…é•œåƒ
   pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
   npm config set registry https://registry.npmmirror.com
   ```

3. **æ•°æ®æºè¿æ¥å¤±è´¥**
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - ç¡®è®¤æ•°æ®æºAPIå¯ç”¨æ€§
   - æŸ¥çœ‹ `logs/backend.log` é”™è¯¯ä¿¡æ¯

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestï¼

1. Forké¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯Pull Request

## æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-01-08)
- ğŸ‰ ç¨³å®šç‰ˆæœ¬å‘å¸ƒ
- âœ¨ å®Œæˆæ ¸å¿ƒåŠŸèƒ½å¼€å‘
- ğŸ› ä¿®å¤åˆ†æ—¶å›¾æ˜¾ç¤ºé—®é¢˜
- âš¡ æ€§èƒ½ä¼˜åŒ–å’Œä»£ç é‡æ„

## è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## è”ç³»æ–¹å¼

- Issue: [GitHub Issues](https://github.com/yourusername/dongfengpo/issues)
- Email: your.email@example.com

---
*ä¸œé£ç ´ - è®©æŠ•èµ„å†³ç­–æ›´æ™ºèƒ½* 
