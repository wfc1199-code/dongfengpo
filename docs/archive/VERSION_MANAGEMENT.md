# ä¸œé£ç ´ç³»ç»Ÿ - ç‰ˆæœ¬ç®¡ç†ä½¿ç”¨æŒ‡å—

## ä¸€ã€åŠŸèƒ½æ¦‚è¿°

ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿæä¾›å®Œæ•´çš„é¡¹ç›®å¤‡ä»½ã€æ¢å¤å’Œç‰ˆæœ¬æ§åˆ¶åŠŸèƒ½ï¼Œç¡®ä¿å¼€å‘è¿‡ç¨‹ä¸­å¯ä»¥éšæ—¶å›é€€åˆ°ç¨³å®šç‰ˆæœ¬ã€‚

## äºŒã€åŠŸèƒ½ç‰¹æ€§

### âœ… æ ¸å¿ƒåŠŸèƒ½
- **è‡ªåŠ¨å¤‡ä»½**ï¼šä¸€é”®åˆ›å»ºå®Œæ•´é¡¹ç›®å¤‡ä»½
- **ç‰ˆæœ¬å›é€€**ï¼šå¿«é€Ÿæ¢å¤åˆ°ä»»æ„å†å²ç‰ˆæœ¬
- **æ—¶é—´è½´è§†å›¾**ï¼šç›´è§‚æŸ¥çœ‹ç‰ˆæœ¬æ¼”è¿›å†å²
- **æ™ºèƒ½å‹ç¼©**ï¼šè‡ªåŠ¨å‹ç¼©å¤‡ä»½ï¼ŒèŠ‚çœç©ºé—´
- **å®‰å…¨æœºåˆ¶**ï¼šå›é€€å‰è‡ªåŠ¨å¤‡ä»½å½“å‰ç‰ˆæœ¬

## ä¸‰ã€ä½¿ç”¨æ–¹æ³•

### 3.1 å‘½ä»¤è¡Œä½¿ç”¨

#### å¿«é€Ÿå¤‡ä»½
```bash
# åˆ›å»ºè¡¥ä¸ç‰ˆæœ¬ (v1.0.0 -> v1.0.1)
./scripts/version_manager.sh backup patch "ä¿®å¤äº†æŸä¸ªbug"

# åˆ›å»ºå°ç‰ˆæœ¬ (v1.0.0 -> v1.1.0)
./scripts/version_manager.sh backup minor "å¢åŠ äº†æ–°åŠŸèƒ½"

# åˆ›å»ºå¤§ç‰ˆæœ¬ (v1.0.0 -> v2.0.0)
./scripts/version_manager.sh backup major "é‡å¤§æ›´æ–°"
```

#### æŸ¥çœ‹ç‰ˆæœ¬
```bash
# æŸ¥çœ‹ç‰ˆæœ¬åˆ—è¡¨
./scripts/version_manager.sh list

# æŸ¥çœ‹ç‰ˆæœ¬æ—¶é—´è½´
./scripts/version_manager.sh timeline
```

#### ç‰ˆæœ¬æ¢å¤
```bash
# æ¢å¤åˆ°æŒ‡å®šç‰ˆæœ¬
./scripts/version_manager.sh restore v1.0.0
```

#### æ¸…ç†æ—§å¤‡ä»½
```bash
# æ¸…ç†æ—§å¤‡ä»½ï¼ˆé»˜è®¤ä¿ç•™10ä¸ªï¼‰
./scripts/version_manager.sh clean
```

### 3.2 äº¤äº’å¼èœå•

```bash
# å¯åŠ¨äº¤äº’å¼èœå•
./scripts/version_manager.sh

# æˆ–
./scripts/version_manager.sh menu
```

èœå•é€‰é¡¹ï¼š
```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ä¸œé£ç ´ - ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿ v2.0
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
å½“å‰ç‰ˆæœ¬: v1.0.1

1) åˆ›å»ºç‰ˆæœ¬å¤‡ä»½ (patch)
2) åˆ›å»ºå°ç‰ˆæœ¬å¤‡ä»½ (minor)
3) åˆ›å»ºå¤§ç‰ˆæœ¬å¤‡ä»½ (major)
4) æŸ¥çœ‹ç‰ˆæœ¬åˆ—è¡¨
5) æŸ¥çœ‹ç‰ˆæœ¬æ—¶é—´è½´
6) æ¢å¤åˆ°æŒ‡å®šç‰ˆæœ¬
7) æ¸…ç†æ—§å¤‡ä»½
0) é€€å‡º
```

### 3.3 APIæ¥å£ä½¿ç”¨

ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿä¹Ÿæä¾›äº†RESTful APIæ¥å£ï¼š

#### è·å–å½“å‰ç‰ˆæœ¬
```http
GET /api/version/current
```

#### è·å–ç‰ˆæœ¬åˆ—è¡¨
```http
GET /api/version/list
```

#### è·å–ç‰ˆæœ¬æ—¶é—´è½´
```http
GET /api/version/timeline
```

#### åˆ›å»ºå¤‡ä»½
```http
POST /api/version/backup
{
    "type": "patch",
    "message": "ä¿®å¤bug"
}
```

#### æ¢å¤ç‰ˆæœ¬
```http
POST /api/version/restore
{
    "version": "v1.0.0"
}
```

## å››ã€ç‰ˆæœ¬å·è§„åˆ™

é‡‡ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬å·è§„èŒƒï¼ˆSemantic Versioningï¼‰ï¼š

```
v<ä¸»ç‰ˆæœ¬å·>.<æ¬¡ç‰ˆæœ¬å·>.<ä¿®è®¢å·>
```

- **ä¸»ç‰ˆæœ¬å·(Major)**ï¼šé‡å¤§æ¶æ„è°ƒæ•´æˆ–ä¸å…¼å®¹çš„APIä¿®æ”¹
- **æ¬¡ç‰ˆæœ¬å·(Minor)**ï¼šæ–°å¢åŠŸèƒ½ï¼Œä½†ä¿æŒå‘åå…¼å®¹
- **ä¿®è®¢å·(Patch)**ï¼šBugä¿®å¤æˆ–å°æ”¹è¿›

## äº”ã€å¤‡ä»½å†…å®¹

æ¯æ¬¡å¤‡ä»½åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š
- `backend/` - åç«¯å®Œæ•´ä»£ç 
- `frontend/src/` - å‰ç«¯æºä»£ç 
- `frontend/package.json` - å‰ç«¯ä¾èµ–é…ç½®
- `scripts/` - æ‰€æœ‰è„šæœ¬æ–‡ä»¶
- `config/` - é…ç½®æ–‡ä»¶
- `*.md` - æ‰€æœ‰æ–‡æ¡£æ–‡ä»¶
- `*.json` - æ ¹ç›®å½•é…ç½®æ–‡ä»¶
- `*.html` - æµ‹è¯•é¡µé¢

## å…­ã€å­˜å‚¨ä½ç½®

æ‰€æœ‰å¤‡ä»½æ–‡ä»¶å­˜å‚¨åœ¨ï¼š
```
/Users/wangfangchun/ä¸œé£ç ´/backups/
```

å¤‡ä»½æ–‡ä»¶å‘½åæ ¼å¼ï¼š
```
v<ç‰ˆæœ¬å·>_<æ—¶é—´æˆ³>.tar.gz
ä¾‹å¦‚ï¼šv1.0.1_20250809_094137.tar.gz
```

## ä¸ƒã€æœ€ä½³å®è·µ

### ğŸ“Œ å¼€å‘æµç¨‹å»ºè®®

1. **å¼€å§‹æ–°åŠŸèƒ½å‰**ï¼šåˆ›å»ºå¤‡ä»½
   ```bash
   ./scripts/version_manager.sh backup patch "å¼€å§‹å¼€å‘æ–°åŠŸèƒ½X"
   ```

2. **å®ŒæˆåŠŸèƒ½å**ï¼šåˆ›å»ºç‰ˆæœ¬
   ```bash
   ./scripts/version_manager.sh backup minor "å®ŒæˆåŠŸèƒ½X"
   ```

3. **å‘ç°é—®é¢˜æ—¶**ï¼šå¿«é€Ÿå›é€€
   ```bash
   ./scripts/version_manager.sh restore v1.0.0
   ```

### âš ï¸ æ³¨æ„äº‹é¡¹

1. **å®šæœŸå¤‡ä»½**ï¼šå»ºè®®æ¯å¤©è‡³å°‘å¤‡ä»½ä¸€æ¬¡
2. **å¤‡æ³¨æ¸…æ™°**ï¼šå¤‡ä»½æ—¶å†™æ˜ç¡®çš„å¤‡æ³¨ä¿¡æ¯
3. **ç©ºé—´ç®¡ç†**ï¼šå®šæœŸæ¸…ç†ä¸éœ€è¦çš„æ—§å¤‡ä»½
4. **æµ‹è¯•éªŒè¯**ï¼šé‡è¦æ›´æ–°å‰å…ˆå¤‡ä»½ï¼Œæ›´æ–°åå……åˆ†æµ‹è¯•

## å…«ã€æ•…éšœå¤„ç†

### é—®é¢˜1ï¼šå¤‡ä»½å¤±è´¥
```bash
# æ£€æŸ¥ç£ç›˜ç©ºé—´
df -h

# æ‰‹åŠ¨åˆ›å»ºå¤‡ä»½ç›®å½•
mkdir -p /Users/wangfangchun/ä¸œé£ç ´/backups
```

### é—®é¢˜2ï¼šæ¢å¤å¤±è´¥
```bash
# æ£€æŸ¥å¤‡ä»½æ–‡ä»¶æ˜¯å¦å­˜åœ¨
ls -la /Users/wangfangchun/ä¸œé£ç ´/backups/

# æ‰‹åŠ¨è§£å‹æŸ¥çœ‹
tar -tzf /Users/wangfangchun/ä¸œé£ç ´/backups/v1.0.0_*.tar.gz
```

### é—®é¢˜3ï¼šç‰ˆæœ¬æ•°æ®åº“æŸå
```bash
# é‡å»ºç‰ˆæœ¬æ•°æ®åº“
rm /Users/wangfangchun/ä¸œé£ç ´/backups/versions.json
./scripts/version_manager.sh list  # ä¼šè‡ªåŠ¨é‡å»º
```

## ä¹ã€é«˜çº§åŠŸèƒ½

### è‡ªåŠ¨åŒ–å¤‡ä»½ï¼ˆå¯é€‰ï¼‰
```bash
# æ·»åŠ åˆ°crontabï¼Œæ¯å¤©å‡Œæ™¨2ç‚¹è‡ªåŠ¨å¤‡ä»½
crontab -e
0 2 * * * /Users/wangfangchun/ä¸œé£ç ´/scripts/version_manager.sh backup patch "æ¯æ—¥è‡ªåŠ¨å¤‡ä»½"
```

### Gité›†æˆï¼ˆå¯é€‰ï¼‰
ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿä¼šè‡ªåŠ¨è®°å½•Gitä¿¡æ¯ï¼š
- å½“å‰åˆ†æ”¯
- æœ€æ–°commit ID
- ä¾¿äºç‰ˆæœ¬è¿½è¸ª

## åã€ç‰ˆæœ¬å†å²

### å½“å‰ç‰ˆæœ¬è®°å½•
- **v1.0.1** (2025-08-09 09:41:46)
  - åˆå§‹ç‰ˆæœ¬å¤‡ä»½
  - å¢åŠ ç‰ˆæœ¬ç®¡ç†åŠŸèƒ½

---

*æ–‡æ¡£æ›´æ–°æ—¶é—´ï¼š2025-08-09*  
*ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿ v2.0*