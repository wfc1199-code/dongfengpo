# 🎯 如何看到新的支撑压力线

## ✅ 后端已重启，API正常工作

测试结果：后端API已成功返回**13条支撑压力线**

---

## 🔄 前端需要刷新缓存

由于前端有2分钟的缓存机制，请按以下步骤操作：

### 方法1: 强制刷新浏览器（推荐）

1. **Mac用户**: 按 `Command + Shift + R`
2. **Windows用户**: 按 `Ctrl + Shift + R` 或 `Ctrl + F5`

这会清除浏览器缓存并重新加载页面。

---

### 方法2: 清除浏览器缓存

#### Chrome/Edge:
1. 按 `F12` 打开开发者工具
2. **右键点击刷新按钮**（地址栏左侧）
3. 选择 **"清空缓存并硬性重新加载"**

#### Safari:
1. 按 `Command + Option + E` 清空缓存
2. 按 `Command + R` 刷新页面

---

### 方法3: 切换股票

如果强制刷新不起作用：
1. 在分时图页面切换到**另一只股票**（如 000001）
2. 等待2秒加载完成
3. **再切换回原来的股票**（如 600519）

这会触发重新获取支撑压力数据。

---

### 方法4: 关闭并重新打开标签页

1. 关闭当前分时图标签页
2. 重新打开浏览器访问分时图页面
3. 这会完全重置前端状态

---

## 🔍 验证是否成功

### 打开浏览器控制台

1. 按 **F12** 打开开发者工具
2. 切换到 **Console（控制台）** 标签
3. 刷新页面
4. 查看是否有类似输出：

```javascript
📊 支撑压力数据处理完成: {
  totalLevels: 13,
  fixedLevels: 6,
  dynamicLevels: 7,
  ...
}
```

---

## 📊 成功后你应该看到

### 实线（固定支撑压力）：
- ✅ 固定阻力(7/8) - 蓝色粗实线
- ✅ 固定支撑(0.5/8) - 紫色粗实线
- ✅ 5日前高 - 深红色粗实线
- ✅ 5日前低 - 深绿色粗实线
- ✅ 20日前高 - 浅红色实线
- ✅ 20日前低 - 浅绿色实线

### 虚线（动态支撑压力）：
- ✅ 枢轴点(PP) - 黄色虚线
- ✅ 枢轴压力(R1, R2) - 橙红色虚线
- ✅ 枢轴支撑(S1, S2) - 浅绿色虚线
- ✅ 动态阻力 - 红色虚线
- ✅ 动态支撑 - 黄色虚线

### 图表右侧标签：
每条线右侧都有对应的名称标签：
- `支撑 1440.00`
- `压力 1475.00`
- `枢轴点(PP) 1465.00`
- 等等...

---

## ❓ 如果还是看不到

### 检查步骤：

1. **确认勾选了支撑压力线复选框**
   - 在分时图页面找到"显示支撑压力线"或"显示专业支撑压力系统"复选框
   - 确保它是**勾选状态** ✅

2. **检查控制台是否有错误**
   - 按F12打开控制台
   - 切换到 **Console** 标签
   - 查看是否有红色错误信息

3. **检查网络请求**
   - 按F12打开控制台
   - 切换到 **Network** 标签
   - 刷新页面
   - 搜索 `tdx/calculate` 请求
   - 查看响应是否包含13条线的数据

4. **检查股票代码**
   - 某些特殊股票（如新股、停牌股）可能数据不足
   - 尝试切换到成熟的大盘股（如 600519 贵州茅台、000001 平安银行）

---

## 🆘 还是有问题？

请提供以下信息：

1. **浏览器控制台截图**（F12 → Console）
2. **当前使用的股票代码**
3. **是否勾选了支撑压力线复选框**
4. **看到了几条线**（原来的数量 vs 新的数量）

我会根据具体情况进一步排查。

---

## 📝 技术说明

### 为什么需要刷新？

1. **前端缓存**：前端会缓存支撑压力数据2分钟，避免频繁请求
2. **浏览器缓存**：浏览器可能缓存了旧的JavaScript代码
3. **React状态**：组件状态需要重新初始化

### 缓存机制

```typescript
const SR_CACHE_TTL = 120000; // 2分钟缓存
```

如果在2分钟内切换股票或刷新，会使用缓存数据。
2分钟后会自动请求新数据。

---

**建议：使用方法1（强制刷新）最简单有效！** ⚡
