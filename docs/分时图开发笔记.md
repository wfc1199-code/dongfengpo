# åˆ†æ—¶å›¾å¼€å‘ç¬”è®°

> **é¡¹ç›®**: ä¸œé£ç ´ - AIå¼‚åŠ¨æ‹‰å‡æ£€æµ‹ç³»ç»Ÿ  
> **åˆ›å»ºæ—¶é—´**: 2024å¹´12æœˆ  
> **ä½œè€…**: AIåŠ©æ‰‹ & å¼€å‘å›¢é˜Ÿ  
> **ç‰ˆæœ¬**: v1.0

## ğŸ“Š æ¦‚è¿°

æœ¬æ–‡æ¡£è®°å½•äº†å¼€å‘è‚¡ç¥¨åˆ†æ—¶å›¾è¿‡ç¨‹ä¸­ç§¯ç´¯çš„ç»éªŒæ•™è®­ã€æŠ€æœ¯éš¾ç‚¹è§£å†³æ–¹æ¡ˆå’Œæœ€ä½³å®è·µã€‚ä¸»è¦æ¶‰åŠEChartsé…ç½®ã€ç”¨æˆ·äº¤äº’è®¾è®¡ã€æ•°æ®å¤„ç†ç­‰å…³é”®æŠ€æœ¯ç‚¹ã€‚

---

## ğŸ¯ æ ¸å¿ƒæˆæœ

### âœ… æœ€ç»ˆå®ç°çš„åŠŸèƒ½

**åˆ†æ—¶å›¾å®Œæ•´äº¤äº’ä½“éªŒ**ï¼š
- ğŸ–±ï¸ **é¼ æ ‡æ‹–æ‹½**ï¼šä¸Šä¸‹ç§»åŠ¨æŸ¥çœ‹ä¸åŒä»·æ ¼åŒºé—´
- ğŸ–±ï¸ **æ™®é€šæ»šè½®**ï¼šç²¾ç»†ä»·æ ¼ç¼©æ”¾ï¼ˆæ•æ„Ÿåº¦0.2ï¼‰
- ğŸ–±ï¸ **Shift + æ»šè½®**ï¼šä¸­ç­‰æ•æ„Ÿåº¦ä»·æ ¼ç¼©æ”¾ï¼ˆæ•æ„Ÿåº¦0.4ï¼‰
- ğŸ–±ï¸ **Ctrl + æ»šè½®**ï¼šæ™ºèƒ½ä»·æ ¼ç¼©æ”¾ï¼ˆæ•æ„Ÿåº¦0.3ï¼‰
- ğŸ”’ **æ¨ªè½´é”å®š**ï¼šæ—¶é—´è½´å®Œå…¨ä¸å—å½±å“ï¼Œä¸“æ³¨çºµè½´æ“ä½œ

**æŠ€æœ¯ç‰¹ç‚¹**ï¼š
- TradingViewçº§åˆ«çš„ä¸“ä¸šäº¤äº’ä½“éªŒ
- å¤šå±‚æ¬¡ç¼©æ”¾æ•æ„Ÿåº¦è®¾è®¡
- ç‹¬ç«‹çš„æ‹–æ‹½å’Œç¼©æ”¾é…ç½®
- å®Œå…¨çš„è½´æ§åˆ¶åˆ†ç¦»

---

## ğŸ”§ å…³é”®æŠ€æœ¯ç»éªŒ

### 1. ECharts DataZoom é…ç½®å¤æ‚æ€§ç®¡ç†

#### âŒ å¸¸è§é”™è¯¯
```javascript
// é”™è¯¯ï¼šæ··åˆé…ç½®å¯¼è‡´åŠŸèƒ½å†²çª
{
  type: 'inside',
  zoomOnMouseWheel: true,
  moveOnMouseMove: true,
  xAxisIndex: [0],
  yAxisIndex: [0]
}
```

#### âœ… æ­£ç¡®åšæ³•
```javascript
// æ­£ç¡®ï¼šåŠŸèƒ½åˆ†ç¦»ï¼Œæ¯ä¸ªé…ç½®é¡¹ä¸“æ³¨å•ä¸€åŠŸèƒ½
dataZoom: [
  // ä¸“é—¨çš„ç¼©æ”¾é…ç½®
  {
    type: 'inside',
    yAxisIndex: [0],
    xAxisIndex: false, // å…³é”®ï¼šå®Œå…¨ç¦ç”¨Xè½´æ§åˆ¶
    zoomOnMouseWheel: 'shift',
    moveOnMouseMove: false, // ä¸å¤„ç†ç§»åŠ¨
    filterMode: 'none'
  },
  // ä¸“é—¨çš„æ‹–æ‹½ç§»åŠ¨é…ç½®
  {
    type: 'inside',
    yAxisIndex: [0],
    xAxisIndex: false,
    zoomOnMouseWheel: false, // ä¸å¤„ç†ç¼©æ”¾
    moveOnMouseMove: true,   // ä¸“é—¨å¤„ç†ç§»åŠ¨
    filterMode: 'none'
  }
]
```

#### ğŸ’¡ å…³é”®è¦ç‚¹
- **é…ç½®éš”ç¦»åŸåˆ™**ï¼šæ¯ä¸ªdataZoomé…ç½®ä¸“æ³¨å•ä¸€åŠŸèƒ½
- **è½´æ§åˆ¶ç²¾ç¡®æ€§**ï¼š`xAxisIndex: false` æ¯” `xAxisIndex: []` æ›´å½»åº•
- **filterModeé‡è¦æ€§**ï¼š`'none'` ç¡®ä¿åªæ”¹å˜è§†è§‰èŒƒå›´ï¼Œä¸è¿‡æ»¤æ•°æ®

### 2. è½´æ§åˆ¶çš„ç²¾ç¡®æ€§é…ç½®

#### ğŸ” å‘ç°çš„é—®é¢˜
```javascript
// è¿™ç§é…ç½®ä¸å¤Ÿå½»åº•ï¼ŒXè½´ä»å¯èƒ½å—å½±å“
xAxisIndex: [], // ç©ºæ•°ç»„
yAxisIndex: [], // ç©ºæ•°ç»„
```

#### âœ… è§£å†³æ–¹æ¡ˆ
```javascript
// æ˜ç¡®ç¦ç”¨ï¼Œå®Œå…¨éš”ç¦»
xAxisIndex: false, // å®Œå…¨ä¸æ§åˆ¶Xè½´
yAxisIndex: [0],   // åªæ§åˆ¶æŒ‡å®šçš„Yè½´
```

### 3. å¤šæ•æ„Ÿåº¦ç¼©æ”¾è®¾è®¡

#### è®¾è®¡ç†å¿µ
ä¸åŒç”¨æˆ·æ“ä½œå¯¹åº”ä¸åŒç²¾åº¦éœ€æ±‚ï¼š

```javascript
// æ™®é€šæ»šè½® - æœ€ç²¾ç»†æ“ä½œ
{
  zoomOnMouseWheel: true,
  zoomSensitivity: 0.2,
  throttle: 60
}

// Shift + æ»šè½® - é€‚ä¸­ç²¾åº¦
{
  zoomOnMouseWheel: 'shift',
  zoomSensitivity: 0.4,
  throttle: 100
}

// Ctrl + æ»šè½® - æ™ºèƒ½ç¼©æ”¾
{
  zoomOnMouseWheel: 'ctrl',
  zoomSensitivity: 0.3,
  throttle: 80
}
```

#### ğŸ’¡ æ•æ„Ÿåº¦è°ƒä¼˜ç»éªŒ
- **0.2**: æœ€ç²¾ç»†ï¼Œé€‚åˆç²¾ç¡®æ“ä½œ
- **0.3-0.4**: é€‚ä¸­ï¼Œæ—¥å¸¸ä½¿ç”¨èˆ’é€‚
- **>0.5**: è¿‡äºæ•æ„Ÿï¼Œç”¨æˆ·ä½“éªŒå·®

---

## ğŸ“ˆ æ•°æ®å¤„ç†æœ€ä½³å®è·µ

### 1. åˆ†æ—¶æ•°æ®ç»“æ„æ ‡å‡†åŒ–

#### APIè¿”å›æ ¼å¼
```json
{
  "code": "000001",
  "name": "å¹³å®‰é“¶è¡Œ",
  "minute_data": [
    {
      "time": "09:30",
      "price": 12.20,
      "volume": 15678,
      "amount": 191271.6,
      "avgPrice": 12.18
    }
  ],
  "yesterday_close": 12.15  // å…³é”®ï¼šæ˜¨æ”¶ä»·åŸºå‡†çº¿
}
```

#### å‰ç«¯æ•°æ®è½¬æ¢
```typescript
const processMinuteData = (apiData: any) => {
  const timePoints = apiData.minute_data.map((item: any) => item.time);
  const prices = apiData.minute_data.map((item: any) => [item.time, item.price]);
  const avgPrices = apiData.minute_data.map((item: any) => [item.time, item.avgPrice]);
  const volumes = apiData.minute_data.map((item: any) => [item.time, item.volume]);
  
  return {
    timePoints,
    prices,
    avgPrices,
    volumes,
    yesterdayClose: apiData.yesterday_close
  };
};
```

### 2. æ˜¨æ”¶ä»·åŸºå‡†çº¿çš„é‡è¦æ€§

```javascript
// åœ¨å›¾è¡¨ä¸­æ·»åŠ æ˜¨æ”¶ä»·åŸºå‡†çº¿
series: [
  // ... ä»·æ ¼çº¿å’Œå‡ä»·çº¿
  {
    name: 'æ˜¨æ”¶åŸºå‡†',
    type: 'line',
    data: timePoints.map(time => [time, yesterdayClose]),
    lineStyle: {
      color: '#888',
      type: 'dashed',
      width: 1
    },
    symbol: 'none',
    silent: true
  }
]
```

---

## ğŸ–±ï¸ äº¤äº’ä½“éªŒè®¾è®¡ç»éªŒ

### 1. TradingViewé£æ ¼äº¤äº’æ ‡å‡†

#### æ ¸å¿ƒåŸåˆ™
- **ä¸“ä¸šæ€§**ï¼šå‚è€ƒè¡Œä¸šæ ‡å‡†ï¼Œä¸é‡æ–°å‘æ˜äº¤äº’æ–¹å¼
- **ä¸€è‡´æ€§**ï¼šåŒç±»æ“ä½œåœ¨ä¸åŒå›¾è¡¨ä¸­ä¿æŒä¸€è‡´
- **å¯é¢„æµ‹æ€§**ï¼šç”¨æˆ·æ“ä½œç»“æœç¬¦åˆç›´è§‰é¢„æœŸ

#### å®ç°ç­–ç•¥
```javascript
// åˆ†æ—¶å›¾ï¼šä¸“æ³¨çºµè½´æ“ä½œ
dataZoom: [
  // åªæœ‰Yè½´æ§åˆ¶ï¼ŒXè½´å®Œå…¨é”å®š
  { yAxisIndex: [0], xAxisIndex: false }
]

// Kçº¿å›¾ï¼šä¿æŒä¼ ç»ŸåŒè½´æ“ä½œ
dataZoom: [
  // Xè½´æ—¶é—´ç¼©æ”¾
  { xAxisIndex: [0, 1], yAxisIndex: [] },
  // Yè½´ä»·æ ¼ç¼©æ”¾  
  { yAxisIndex: [0], xAxisIndex: false }
]
```

### 2. æ€§èƒ½ä¼˜åŒ– - èŠ‚æµé…ç½®

#### ä¸åŒæ“ä½œçš„èŠ‚æµç­–ç•¥
```javascript
// æ‹–æ‹½ç§»åŠ¨ï¼šæœ€å¿«å“åº”
{
  moveOnMouseMove: true,
  throttle: 50  // 50msï¼Œä¿è¯æµç•…æ‹–æ‹½
}

// ç²¾ç»†ç¼©æ”¾ï¼šå¹³è¡¡æ€§èƒ½
{
  zoomOnMouseWheel: true,
  throttle: 60  // 60msï¼Œé¿å…è¿‡äºé¢‘ç¹
}

// ä¸€èˆ¬ç¼©æ”¾ï¼šç¨³å®šä¼˜å…ˆ
{
  zoomOnMouseWheel: 'shift',
  throttle: 100 // 100msï¼Œç¡®ä¿ç¨³å®š
}
```

---

## ğŸ› è°ƒè¯•å’Œé—®é¢˜æ’æŸ¥

### 1. æ¸è¿›å¼å¼€å‘ç­–ç•¥

#### âœ… æ¨èæµç¨‹
1. **ç¬¬ä¸€æ­¥**ï¼šç¡®ä¿æ•°æ®æ­£ç¡®æ˜¾ç¤º
2. **ç¬¬äºŒæ­¥**ï¼šæ·»åŠ åŸºç¡€ç¼©æ”¾åŠŸèƒ½
3. **ç¬¬ä¸‰æ­¥**ï¼šä¼˜åŒ–ç¼©æ”¾ä½“éªŒï¼ˆæ•æ„Ÿåº¦è°ƒæ•´ï¼‰
4. **ç¬¬å››æ­¥**ï¼šæ·»åŠ æ‹–æ‹½ç§»åŠ¨åŠŸèƒ½
5. **ç¬¬äº”æ­¥**ï¼šæœ€ç»ˆä¼˜åŒ–å’Œæ€§èƒ½è°ƒä¼˜

#### âŒ é¿å…çš„é”™è¯¯
- ä¸€æ¬¡æ€§æ·»åŠ æ‰€æœ‰åŠŸèƒ½ï¼Œé—®é¢˜éš¾ä»¥å®šä½
- æ²¡æœ‰å……åˆ†æµ‹è¯•å°±è¿›å…¥ä¸‹ä¸€ä¸ªé˜¶æ®µ
- å¿½ç•¥è¾¹ç•Œæƒ…å†µçš„å¤„ç†

### 2. è°ƒè¯•ä¿¡æ¯çš„ä»·å€¼

#### æœ‰æ•ˆçš„è°ƒè¯•ä¿¡æ¯è®¾è®¡
```typescript
// è¯¦ç»†ã€æœ‰ç”¨çš„è°ƒè¯•ä¿¡æ¯
setDebugInfo(`åˆ†æ—¶å›¾æ¸²æŸ“å®Œæˆ (${data.length}ä¸ªæ•°æ®ç‚¹) | âœ…å®Œæ•´äº¤äº’: ğŸ–±ï¸æ‹–æ‹½=ä¸Šä¸‹ç§»åŠ¨ | æ»šè½®=ç¼©æ”¾ | Shift+æ»šè½®=ç²¾ç»†ç¼©æ”¾ | Ctrl+æ»šè½®=æ™ºèƒ½ç¼©æ”¾ | æ¨ªè½´é”å®š`);

// è€Œä¸æ˜¯ç®€å•çš„
setDebugInfo('å›¾è¡¨æ¸²æŸ“å®Œæˆ');
```

#### è°ƒè¯•ä¿¡æ¯çš„ä½œç”¨
- å¿«é€Ÿç¡®è®¤åŠŸèƒ½çŠ¶æ€
- å¸®åŠ©ç”¨æˆ·ç†è§£å¯ç”¨æ“ä½œ
- ååŠ©å¼€å‘è€…æ’æŸ¥é—®é¢˜

### 3. ç½‘ç»œæœç´¢è§£å†³å¤æ‚é—®é¢˜

#### å…³é”®ç»éªŒ
å½“é‡åˆ°EChartså¤æ‚é…ç½®é—®é¢˜æ—¶ï¼š
1. **å®˜æ–¹æ–‡æ¡£**ï¼šæŸ¥çœ‹åŸºç¡€APIè¯´æ˜
2. **GitHub Issues**ï¼šå¯»æ‰¾ç±»ä¼¼é—®é¢˜è®¨è®º
3. **ç¤¾åŒºè®ºå›**ï¼šè·å–å®æˆ˜ç»éªŒåˆ†äº«
4. **æŠ€æœ¯åšå®¢**ï¼šå‚è€ƒå®Œæ•´è§£å†³æ–¹æ¡ˆ

#### æˆåŠŸæ¡ˆä¾‹
`filterMode: 'empty'` çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯é€šè¿‡ç½‘ç»œæœç´¢æ‰¾åˆ°çš„ï¼Œè§£å†³äº†çºµè½´ç‹¬ç«‹ç¼©æ”¾çš„å…³é”®é—®é¢˜ã€‚

---

## ğŸ’» å®Œæ•´ä»£ç ç¤ºä¾‹

### åˆ†æ—¶å›¾DataZoomå®Œæ•´é…ç½®

```typescript
dataZoom: [
  // é…ç½®1ï¼šShift + æ»šè½®ç¼©æ”¾
  {
    type: 'inside',
    yAxisIndex: [0],
    xAxisIndex: false,
    start: 0,
    end: 100,
    zoomOnMouseWheel: 'shift',
    moveOnMouseMove: false,
    preventDefaultMouseMove: false,
    orient: 'vertical',
    zoomSensitivity: 0.4,
    moveOnMouseWheel: false,
    throttle: 100,
    filterMode: 'none'
  },
  
  // é…ç½®2ï¼šCtrl + æ»šè½®æ™ºèƒ½ç¼©æ”¾
  {
    type: 'inside',
    yAxisIndex: [0],
    xAxisIndex: false,
    start: 0,
    end: 100,
    zoomOnMouseWheel: 'ctrl',
    moveOnMouseMove: false,
    preventDefaultMouseMove: false,
    orient: 'vertical',
    zoomSensitivity: 0.3,
    moveOnMouseWheel: false,
    throttle: 80,
    filterMode: 'none'
  },
  
  // é…ç½®3ï¼šæ™®é€šæ»šè½®ç²¾ç»†ç¼©æ”¾
  {
    type: 'inside',
    yAxisIndex: [0],
    xAxisIndex: false,
    start: 0,
    end: 100,
    zoomOnMouseWheel: true,
    moveOnMouseMove: false,
    preventDefaultMouseMove: false,
    orient: 'vertical',
    zoomSensitivity: 0.2,
    throttle: 60,
    filterMode: 'none'
  },
  
  // é…ç½®4ï¼šé¼ æ ‡æ‹–æ‹½ç§»åŠ¨
  {
    type: 'inside',
    yAxisIndex: [0],
    xAxisIndex: false,
    start: 0,
    end: 100,
    zoomOnMouseWheel: false,
    moveOnMouseMove: true,
    moveOnMouseWheel: false,
    preventDefaultMouseMove: false,
    orient: 'vertical',
    throttle: 50,
    filterMode: 'none',
    moveOnDrag: true,
    moveSensitivity: 1
  }
]
```

---

## ğŸ” å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### Q1: ä¸ºä»€ä¹ˆçºµè½´ç¼©æ”¾æ—¶æ¨ªè½´ä¹Ÿåœ¨åŠ¨ï¼Ÿ
**A**: æ£€æŸ¥`xAxisIndex`è®¾ç½®ï¼Œåº”è¯¥ä½¿ç”¨`false`è€Œä¸æ˜¯`[]`ï¼Œå¹¶ç¡®ä¿`filterMode: 'none'`ã€‚

### Q2: ç¼©æ”¾å¤ªæ•æ„Ÿæˆ–å¤ªè¿Ÿé’æ€ä¹ˆåŠï¼Ÿ
**A**: è°ƒæ•´`zoomSensitivity`å‚æ•°ï¼š
- å¤ªæ•æ„Ÿï¼šé™ä½æ•°å€¼ï¼ˆ0.1-0.2ï¼‰
- å¤ªè¿Ÿé’ï¼šå¢åŠ æ•°å€¼ï¼ˆ0.4-0.6ï¼‰

### Q3: æ‹–æ‹½ä¸å¤Ÿæµç•…ï¼Ÿ
**A**: ä¼˜åŒ–`throttle`è®¾ç½®ï¼Œæ‹–æ‹½æ“ä½œå»ºè®®ä½¿ç”¨50msæˆ–æ›´ä½ã€‚

### Q4: å¤šä¸ªDataZoomé…ç½®å†²çªï¼Ÿ
**A**: ç¡®ä¿æ¯ä¸ªé…ç½®ä¸“æ³¨å•ä¸€åŠŸèƒ½ï¼Œé¿å…åŒä¸€æ“ä½œè¢«å¤šä¸ªé…ç½®å¤„ç†ã€‚

---

## ğŸ“š å‚è€ƒèµ„æº

### å®˜æ–¹æ–‡æ¡£
- [ECharts DataZoom é…ç½®é¡¹](https://echarts.apache.org/zh/option.html#dataZoom)
- [ECharts äº‹ä»¶ä¸è¡Œä¸º](https://echarts.apache.org/zh/api.html#events)

### ç¤¾åŒºèµ„æº
- ECharts GitHub Issues
- Stack Overflow ECharts æ ‡ç­¾
- æ˜é‡‘/CSDN ECharts å®æˆ˜æ–‡ç« 

### è®¾è®¡å‚è€ƒ
- TradingView äº¤äº’è®¾è®¡
- åŒèŠ±é¡ºã€ä¸œæ–¹è´¢å¯Œç­‰ä¸“ä¸šè½¯ä»¶

---

## ğŸ‰ æ€»ç»“

é€šè¿‡æœ¬æ¬¡åˆ†æ—¶å›¾å¼€å‘ï¼Œæˆ‘ä»¬ç§¯ç´¯äº†å®è´µçš„EChartsé«˜çº§é…ç½®ç»éªŒï¼Œç‰¹åˆ«æ˜¯åœ¨å¤æ‚äº¤äº’è®¾è®¡æ–¹é¢ã€‚å…³é”®æˆåŠŸå› ç´ åŒ…æ‹¬ï¼š

1. **é…ç½®åˆ†ç¦»åŸåˆ™**ï¼šç‹¬ç«‹é…ç½®é¿å…å†²çª
2. **æ¸è¿›å¼å¼€å‘**ï¼šåˆ†æ­¥å®ç°ï¼Œé€æ­¥ä¼˜åŒ–
3. **ç”¨æˆ·ä½“éªŒä¼˜å…ˆ**ï¼šå‚è€ƒè¡Œä¸šæ ‡å‡†è®¾è®¡äº¤äº’
4. **è¯¦ç»†è°ƒè¯•ä¿¡æ¯**ï¼šä¾¿äºé—®é¢˜å®šä½å’ŒåŠŸèƒ½éªŒè¯
5. **ç§¯æå¯»æ±‚è§£å†³æ–¹æ¡ˆ**ï¼šç»“åˆå¤šç§ä¿¡æ¯æºè§£å†³å¤æ‚é—®é¢˜

è¿™äº›ç»éªŒä¸ä»…é€‚ç”¨äºè‚¡ç¥¨å›¾è¡¨ï¼Œå¯¹å…¶ä»–å¤æ‚æ•°æ®å¯è§†åŒ–é¡¹ç›®ä¹Ÿå…·æœ‰é‡è¦å‚è€ƒä»·å€¼ã€‚

---

*æœ¬æ–‡æ¡£å°†éšç€é¡¹ç›®å‘å±•æŒç»­æ›´æ–°ï¼Œè®°å½•æ–°çš„æŠ€æœ¯å‘ç°å’Œæœ€ä½³å®è·µã€‚* 