<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™¶æ³°æ§è‚¡ - åˆ†æ—¶äº¤æ˜“ç­–ç•¥å¯è§†åŒ–</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .header p {
            font-size: 16px;
            opacity: 0.9;
        }
        
        .content {
            padding: 30px;
        }
        
        .chart-container {
            width: 100%;
            height: 600px;
            margin-bottom: 30px;
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            padding: 20px;
            background: #fafafa;
        }
        
        .strategy-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .strategy-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        
        .strategy-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .strategy-card h3 {
            color: #2a5298;
            font-size: 18px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .strategy-card .time {
            background: #667eea;
            color: white;
            padding: 3px 8px;
            border-radius: 5px;
            font-size: 14px;
        }
        
        .strategy-card ul {
            list-style: none;
            padding: 0;
        }
        
        .strategy-card li {
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
            font-size: 14px;
            color: #555;
        }
        
        .strategy-card li:last-child {
            border-bottom: none;
        }
        
        .action-buy {
            color: #10b981;
            font-weight: 600;
        }
        
        .action-sell {
            color: #ef4444;
            font-weight: 600;
        }
        
        .action-hold {
            color: #f59e0b;
            font-weight: 600;
        }
        
        .legend-panel {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .legend-panel h3 {
            color: #2a5298;
            margin-bottom: 15px;
        }
        
        .legend-items {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }
        
        .legend-color {
            width: 30px;
            height: 3px;
            border-radius: 2px;
        }
        
        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-primary:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary {
            background: white;
            color: #667eea;
            border: 2px solid #667eea;
        }
        
        .btn-secondary:hover {
            background: #667eea;
            color: white;
        }
        
        .info-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            margin-right: 10px;
        }
        
        .badge-support {
            background: #e0f2fe;
            color: #0369a1;
        }
        
        .badge-resistance {
            background: #fee2e2;
            color: #dc2626;
        }
        
        .badge-pivot {
            background: #fef3c7;
            color: #d97706;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¯ æ™¶æ³°æ§è‚¡(02228.HK) - åˆ†æ—¶äº¤æ˜“ç­–ç•¥å¯è§†åŒ–</h1>
            <p>åŸºäºé€šè¾¾ä¿¡æ”¯æ’‘å‹åŠ›ç³»ç»Ÿçš„å®æˆ˜æ“ä½œæŒ‡å—</p>
        </div>
        
        <div class="content">
            <div class="controls">
                <button class="btn btn-primary" onclick="simulateTrading()">â–¶ï¸ æ¨¡æ‹Ÿäº¤æ˜“</button>
                <button class="btn btn-secondary" onclick="resetChart()">ğŸ”„ é‡ç½®å›¾è¡¨</button>
                <button class="btn btn-secondary" onclick="toggleOperations()">ğŸ‘ï¸ æ˜¾ç¤º/éšè—æ“ä½œç‚¹</button>
                <button class="btn btn-secondary" onclick="showRealtime()">ğŸ“Š å®æ—¶æ›´æ–°</button>
            </div>
            
            <div class="legend-panel">
                <h3>ğŸ“ å›¾ä¾‹è¯´æ˜</h3>
                <div class="legend-items">
                    <div class="legend-item">
                        <div class="legend-color" style="background: #0000FF;"></div>
                        <span>å›ºå®šé˜»åŠ›(7/8)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #FF00FF;"></div>
                        <span>å›ºå®šæ”¯æ’‘(0.5/8)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #999999;"></div>
                        <span>ä¸­è½´çº¿</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #10b981;"></div>
                        <span>ä¹°å…¥ä¿¡å·</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #ef4444;"></div>
                        <span>å–å‡ºä¿¡å·</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #f59e0b;"></div>
                        <span>è§‚æœ›åŒºåŸŸ</span>
                    </div>
                </div>
            </div>
            
            <div class="chart-container" id="mainChart"></div>
            
            <div class="strategy-panel">
                <div class="strategy-card">
                    <h3>ğŸ“ˆ <span class="time">9:30</span> å¼€ç›˜ç­–ç•¥</h3>
                    <ul>
                        <li>ä»Šæ—¥å¼€ç›˜8.31ï¼ˆé«˜å¼€1.6%ï¼‰</li>
                        <li class="action-buy">çªç ´æ˜¨é«˜8.18ï¼šè¯•æ¢ä¹°å…¥(10%)</li>
                        <li class="action-hold">ç«™ç¨³8.216æ”¯æ’‘ï¼šå‡†å¤‡åŠ ä»“</li>
                        <li class="action-buy">é‡èƒ½æ”¾å¤§ï¼šç§¯æå‚ä¸</li>
                        <li>é¦–ä¸ª5åˆ†é’Ÿå¿«é€Ÿä¸Šæ¶¨</li>
                    </ul>
                </div>
                
                <div class="strategy-card">
                    <h3>ğŸš€ <span class="time">10:00</span> æ—©ç›˜ä¸»å‡</h3>
                    <ul>
                        <li>ä»·æ ¼å¿«é€Ÿçªç ´8.68</li>
                        <li class="action-buy">çªç ´ä¸­è½´8.815ï¼šåŠ ä»“30%</li>
                        <li class="action-buy">å‘9å…ƒå†²å‡»ï¼šæŒè‚¡å¾…æ¶¨</li>
                        <li class="action-hold">æˆäº¤é‡æŒç»­æ”¾å¤§</li>
                        <li>ç§»åŠ¨æ­¢æŸè‡³8.50</li>
                    </ul>
                </div>
                
                <div class="strategy-card">
                    <h3>âš–ï¸ <span class="time">11:00</span> åˆç›˜å‰</h3>
                    <ul>
                        <li>è§¦åŠæ—¥å†…é«˜ç‚¹9.50</li>
                        <li class="action-sell">æ¥è¿‘é˜»åŠ›9.356ï¼šéƒ¨åˆ†æ­¢ç›ˆ</li>
                        <li class="action-hold">æ¶¨å¹…è¶…10%ï¼šå‡ä»“ä¿åˆ©æ¶¦</li>
                        <li class="action-sell">è·åˆ©20%å–å‡º1/3</li>
                        <li>ä¸Šåˆæœ€é«˜9.50ï¼Œæœ€ä½8.13</li>
                    </ul>
                </div>
                
                <div class="strategy-card">
                    <h3>ğŸ’¼ <span class="time">13:00</span> åˆåå¼€ç›˜</h3>
                    <ul>
                        <li>é«˜ä½éœ‡è¡æ•´ç†9.38</li>
                        <li class="action-hold">ç»´æŒ9.2-9.4åŒºé—´</li>
                        <li class="action-sell">æ¶¨å¹…å·¨å¤§ï¼šé€¢é«˜å‡ä»“</li>
                        <li class="action-hold">è§‚å¯Ÿèƒ½å¦å†åˆ›æ–°é«˜</li>
                        <li>æ­¢ç›ˆç›®æ ‡ï¼š9.50é™„è¿‘</li>
                    </ul>
                </div>
                
                <div class="strategy-card">
                    <h3>ğŸ”” <span class="time">14:30</span> å°¾ç›˜é˜¶æ®µ</h3>
                    <ul>
                        <li>ç¨³å®šåœ¨9.20é™„è¿‘</li>
                        <li class="action-hold">æ¶¨å¹…11%å·²å¾ˆå¤§</li>
                        <li class="action-sell">è·åˆ©äº†ç»“ä¸ºä¸»</li>
                        <li class="action-hold">ç•™å°‘é‡ä»“ä½åšå¼ˆ</li>
                        <li>å…³æ³¨å°¾ç›˜èµ„é‡‘åŠ¨å‘</li>
                    </ul>
                </div>
                
                <div class="strategy-card">
                    <h3>ğŸ <span class="time">15:30</span> æ”¶ç›˜å†³ç­–</h3>
                    <ul>
                        <li>æ”¶ç›˜9.13ï¼ˆæ¶¨11.61%ï¼‰</li>
                        <li class="action-sell">å•æ—¥æ¶¨å¹…è¿‡å¤§ï¼šå¤§éƒ¨åˆ†æ­¢ç›ˆ</li>
                        <li class="action-hold">ç•™10%ä»“ä½ï¼šåšå¼ˆå»¶ç»­æ€§</li>
                        <li class="action-buy">æ¬¡æ—¥å›è°ƒå¯æ¥å›</li>
                        <li>æ­¢æŸè®¾ç½®ï¼š8.80</li>
                    </ul>
                </div>
            </div>
            
            <div class="legend-panel">
                <h3>âš ï¸ é£é™©æ§åˆ¶è¦ç‚¹</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 15px;">
                    <div>
                        <span class="info-badge badge-support">ä»“ä½ç®¡ç†</span>
                        <p style="margin-top: 8px; font-size: 14px; color: #666;">å•æ¬¡æœ€å¤§40%ï¼Œè¯•æ¢10%ï¼ŒåŸºç¡€20%</p>
                    </div>
                    <div>
                        <span class="info-badge badge-resistance">æ­¢æŸè®¾ç½®</span>
                        <p style="margin-top: 8px; font-size: 14px; color: #666;">å›ºå®šæ­¢æŸ2%ï¼Œå…³é”®ä½æ­¢æŸç«‹å³æ‰§è¡Œ</p>
                    </div>
                    <div>
                        <span class="info-badge badge-pivot">æ­¢ç›ˆç­–ç•¥</span>
                        <p style="margin-top: 8px; font-size: 14px; color: #666;">æ¶¨5%å–1/3ï¼Œæ¶¨8%å†å–1/3</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let myChart;
        let showOperations = true;
        let isSimulating = false;
        
        // åŸºäºçœŸå®æ•°æ®ç”Ÿæˆåˆ†æ—¶æ•°æ®
        function generateIntradayData() {
            const data = [];
            const volumes = [];
            const times = [];
            
            // çœŸå®æ•°æ®ï¼ˆ2024-01-14 æ™¶æ³°æ§è‚¡ï¼‰
            const realData = {
                yesterday_close: 8.180,  // æ˜¨æ”¶
                open: 8.310,            // ä»Šå¼€
                high: 9.500,            // æœ€é«˜
                low: 8.130,             // æœ€ä½
                close: 9.130,           // ç°ä»·
                change_pct: 11.61       // æ¶¨å¹…
            };
            
            // ç”Ÿæˆäº¤æ˜“æ—¶é—´
            for (let h = 9; h <= 15; h++) {
                for (let m = 0; m < 60; m++) {
                    if (h === 9 && m < 30) continue;
                    if (h === 12) continue; // åˆä¼‘
                    if (h === 15 && m > 30) break;
                    
                    const timeStr = `${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}`;
                    times.push(timeStr);
                }
            }
            
            // ç”Ÿæˆä»·æ ¼æ•°æ®ï¼ˆåŸºäºçœŸå®èµ°åŠ¿ï¼‰
            let basePrice = realData.open;
            let trend = 1;
            
            times.forEach((time, index) => {
                // æ·»åŠ ä¸€äº›éšæœºæ€§å’Œè¶‹åŠ¿
                const random = (Math.random() - 0.5) * 0.05;
                const trendEffect = trend * 0.02;
                
                // æ¨¡æ‹Ÿä»Šå¤©çš„çœŸå®èµ°åŠ¿ï¼ˆå¤§æ¶¨11.61%ï¼‰
                if (time === '09:30') basePrice = 8.310; // å¼€ç›˜
                if (time === '09:45') { basePrice = 8.450; trend = 1.5; } // å¼€ç›˜æ‹‰å‡
                if (time === '10:00') { basePrice = 8.680; trend = 1.8; } // å¿«é€Ÿä¸Šæ¶¨
                if (time === '10:30') { basePrice = 9.100; trend = 1.2; } // çªç ´9å…ƒ
                if (time === '10:45') { basePrice = 9.350; trend = 1.0; } // ç»§ç»­ä¸Šæ¶¨
                if (time === '11:00') { basePrice = 9.450; trend = 0.5; } // æ¥è¿‘æœ€é«˜
                if (time === '11:20') { basePrice = 9.500; trend = -0.3; } // è§¦åŠæœ€é«˜
                if (time === '13:00') { basePrice = 9.380; trend = 0.2; } // åˆåé«˜ä½éœ‡è¡
                if (time === '13:30') { basePrice = 9.250; trend = -0.2; } // å°å¹…å›è°ƒ
                if (time === '14:00') { basePrice = 9.180; trend = 0.3; } // éœ‡è¡æ•´ç†
                if (time === '14:30') { basePrice = 9.200; trend = 0.1; } // å°¾ç›˜ç¨³å®š
                if (time === '15:00') { basePrice = 9.150; trend = -0.1; } // ç•¥æœ‰å›è½
                if (time === '15:30') { basePrice = 9.130; trend = 0; } // æ”¶ç›˜ä»·
                
                basePrice += random + trendEffect;
                // ç¡®ä¿ä»·æ ¼åœ¨æœ€é«˜æœ€ä½ä¹‹é—´
                basePrice = Math.max(realData.low, Math.min(realData.high, basePrice));
                data.push(basePrice.toFixed(3));
                
                // ç”Ÿæˆæˆäº¤é‡ï¼ˆæ€»æˆäº¤4.98äº¿è‚¡ï¼‰
                const totalVolume = 498697837;
                const avgVolume = totalVolume / times.length;
                const volumeRandom = Math.random() * avgVolume * 0.5;
                // å¼€ç›˜å’Œæ”¶ç›˜æˆäº¤é‡è¾ƒå¤§
                let volumeMultiplier = 1;
                if (time >= '09:30' && time <= '10:00') volumeMultiplier = 2;
                if (time >= '14:30' && time <= '15:30') volumeMultiplier = 1.5;
                volumes.push(avgVolume * volumeMultiplier + volumeRandom);
                
                // è°ƒæ•´è¶‹åŠ¿
                if (Math.random() > 0.9) {
                    trend = trend * 0.8;
                }
            });
            
            return { times, data, volumes, realData };
        }
        
        // åˆå§‹åŒ–å›¾è¡¨
        function initChart() {
            const chartDom = document.getElementById('mainChart');
            myChart = echarts.init(chartDom);
            
            const { times, data, volumes, realData } = generateIntradayData();
            
            const option = {
                title: {
                    text: `æ™¶æ³°æ§è‚¡(02228.HK) - åˆ†æ—¶äº¤æ˜“ç­–ç•¥å›¾ [æ¶¨å¹…: +${realData.change_pct}%]`,
                    subtext: `æ˜¨æ”¶: ${realData.yesterday_close} | ä»Šå¼€: ${realData.open} | æœ€é«˜: ${realData.high} | æœ€ä½: ${realData.low} | ç°ä»·: ${realData.close}`,
                    left: 'center',
                    top: 10,
                    textStyle: {
                        fontSize: 18,
                        fontWeight: 'bold',
                        color: '#e11d48'
                    },
                    subtextStyle: {
                        fontSize: 12,
                        color: '#666'
                    }
                },
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'cross'
                    },
                    formatter: function(params) {
                        let html = params[0].axisValue + '<br/>';
                        params.forEach(param => {
                            if (param.seriesName === 'åˆ†æ—¶ä»·æ ¼') {
                                html += `ä»·æ ¼: ${param.value} HKD<br/>`;
                            } else if (param.seriesName === 'æˆäº¤é‡') {
                                html += `æˆäº¤é‡: ${(param.value/10000).toFixed(0)}ä¸‡<br/>`;
                            } else if (param.seriesName.includes('æ“ä½œ')) {
                                html += `${param.seriesName}: ${param.value} HKD<br/>`;
                            }
                        });
                        return html;
                    }
                },
                legend: {
                    data: ['åˆ†æ—¶ä»·æ ¼', 'å›ºå®šé˜»åŠ›', 'å›ºå®šæ”¯æ’‘', 'ä¸­è½´çº¿', 'ä¹°å…¥æ“ä½œ', 'å–å‡ºæ“ä½œ'],
                    top: 40
                },
                grid: [
                    {
                        left: '10%',
                        right: '10%',
                        top: '15%',
                        height: '55%'
                    },
                    {
                        left: '10%',
                        right: '10%',
                        top: '75%',
                        height: '15%'
                    }
                ],
                xAxis: [
                    {
                        type: 'category',
                        data: times,
                        gridIndex: 0,
                        axisLabel: {
                            interval: 29,
                            rotate: 0
                        }
                    },
                    {
                        type: 'category',
                        data: times,
                        gridIndex: 1,
                        axisLabel: {
                            show: false
                        }
                    }
                ],
                yAxis: [
                    {
                        type: 'value',
                        gridIndex: 0,
                        scale: true,
                        splitArea: {
                            show: true
                        },
                        axisLabel: {
                            formatter: '{value} HKD'
                        },
                        min: 8.0,
                        max: 9.6
                    },
                    {
                        type: 'value',
                        gridIndex: 1,
                        splitNumber: 2,
                        axisLabel: {
                            formatter: function(value) {
                                return (value/10000).toFixed(0) + 'ä¸‡';
                            }
                        }
                    }
                ],
                series: [
                    {
                        name: 'åˆ†æ—¶ä»·æ ¼',
                        type: 'line',
                        data: data,
                        smooth: true,
                        symbol: 'none',
                        lineStyle: {
                            width: 2,
                            color: '#5470c6'
                        },
                        areaStyle: {
                            color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                                { offset: 0, color: 'rgba(84, 112, 198, 0.5)' },
                                { offset: 1, color: 'rgba(84, 112, 198, 0.1)' }
                            ])
                        }
                    },
                    {
                        name: 'å›ºå®šé˜»åŠ›',
                        type: 'line',
                        data: Array(times.length).fill(9.356),  // 8.13 + (9.50-8.13)*7/8 = 9.329
                        symbol: 'none',
                        lineStyle: {
                            width: 2,
                            color: '#0000FF',
                            type: 'solid'
                        },
                        label: {
                            show: true,
                            position: 'end',
                            formatter: 'é˜»åŠ› 9.356'
                        }
                    },
                    {
                        name: 'å›ºå®šæ”¯æ’‘',
                        type: 'line',
                        data: Array(times.length).fill(8.216),  // 8.13 + (9.50-8.13)*0.5/8 = 8.216
                        symbol: 'none',
                        lineStyle: {
                            width: 2,
                            color: '#FF00FF',
                            type: 'solid'
                        },
                        label: {
                            show: true,
                            position: 'end',
                            formatter: 'æ”¯æ’‘ 8.216'
                        }
                    },
                    {
                        name: 'ä¸­è½´çº¿',
                        type: 'line',
                        data: Array(times.length).fill(8.815),  // (9.50 + 8.13) / 2 = 8.815
                        symbol: 'none',
                        lineStyle: {
                            width: 1,
                            color: '#999999',
                            type: 'dashed'
                        },
                        label: {
                            show: true,
                            position: 'end',
                            formatter: 'ä¸­è½´ 8.815'
                        }
                    },
                    {
                        name: 'æ˜¨æ”¶çº¿',
                        type: 'line',
                        data: Array(times.length).fill(8.180),
                        symbol: 'none',
                        lineStyle: {
                            width: 1,
                            color: '#ff9800',
                            type: 'dotted'
                        },
                        label: {
                            show: true,
                            position: 'end',
                            formatter: 'æ˜¨æ”¶ 8.180'
                        }
                    },
                    {
                        name: 'æˆäº¤é‡',
                        type: 'bar',
                        data: volumes,
                        xAxisIndex: 1,
                        yAxisIndex: 1,
                        itemStyle: {
                            color: function(params) {
                                return params.dataIndex > 0 && 
                                       data[params.dataIndex] >= data[params.dataIndex - 1] 
                                       ? '#ef4444' : '#10b981';
                            }
                        }
                    }
                ]
            };
            
            // æ·»åŠ æ“ä½œæ ‡è®°
            if (showOperations) {
                // ä¹°å…¥ç‚¹
                option.series.push({
                    name: 'ä¹°å…¥æ“ä½œ',
                    type: 'scatter',
                    data: [
                        [times.indexOf('09:35'), 1403],
                        [times.indexOf('10:05'), 1416],
                        [times.indexOf('13:05'), 1411]
                    ],
                    symbolSize: 15,
                    itemStyle: {
                        color: '#10b981'
                    },
                    label: {
                        show: true,
                        formatter: 'ä¹°',
                        position: 'top',
                        color: '#10b981',
                        fontWeight: 'bold'
                    }
                });
                
                // å–å‡ºç‚¹
                option.series.push({
                    name: 'å–å‡ºæ“ä½œ',
                    type: 'scatter',
                    data: [
                        [times.indexOf('10:45'), 1414],
                        [times.indexOf('14:35'), 1421],
                        [times.indexOf('15:25'), 1419]
                    ],
                    symbolSize: 15,
                    itemStyle: {
                        color: '#ef4444'
                    },
                    label: {
                        show: true,
                        formatter: 'å–',
                        position: 'bottom',
                        color: '#ef4444',
                        fontWeight: 'bold'
                    }
                });
                
                // æ·»åŠ æ“ä½œåŒºåŸŸæ ‡è®°
                option.series.push({
                    name: 'éœ‡è¡åŒºé—´',
                    type: 'line',
                    markArea: {
                        silent: true,
                        itemStyle: {
                            color: 'rgba(245, 158, 11, 0.1)'
                        },
                        data: [
                            [{
                                xAxis: '11:00'
                            }, {
                                xAxis: '13:00'
                            }]
                        ],
                        label: {
                            show: true,
                            position: 'insideTop',
                            formatter: 'éœ‡è¡è§‚æœ›åŒº'
                        }
                    }
                });
            }
            
            myChart.setOption(option);
        }
        
        // æ¨¡æ‹Ÿäº¤æ˜“åŠ¨ç”»
        function simulateTrading() {
            if (isSimulating) return;
            isSimulating = true;
            
            // é€æ­¥æ˜¾ç¤ºäº¤æ˜“ä¿¡å·
            let step = 0;
            const steps = [
                { time: '09:30', action: 'å¼€ç›˜è§‚å¯Ÿ', price: 1402 },
                { time: '09:35', action: 'è¯•æ¢ä¹°å…¥10%', price: 1403 },
                { time: '10:05', action: 'çªç ´åŠ ä»“30%', price: 1416 },
                { time: '10:45', action: 'é˜»åŠ›å‡ä»“', price: 1414 },
                { time: '11:00', action: 'éœ‡è¡è§‚æœ›', price: 1412 },
                { time: '13:05', action: 'åˆååŠ ä»“', price: 1411 },
                { time: '14:35', action: 'å°¾ç›˜æ­¢ç›ˆ', price: 1421 },
                { time: '15:25', action: 'æ”¶ç›˜æ¸…ä»“', price: 1419 }
            ];
            
            const interval = setInterval(() => {
                if (step >= steps.length) {
                    clearInterval(interval);
                    isSimulating = false;
                    return;
                }
                
                const currentStep = steps[step];
                
                // åœ¨å›¾è¡¨ä¸Šæ·»åŠ åŠ¨æ€æ ‡æ³¨
                const option = myChart.getOption();
                if (!option.series[6]) {
                    option.series[6] = {
                        type: 'scatter',
                        data: [],
                        symbolSize: 20,
                        itemStyle: {
                            color: '#fbbf24'
                        },
                        label: {
                            show: true,
                            formatter: function(params) {
                                return currentStep.action;
                            },
                            position: 'right',
                            fontSize: 12,
                            fontWeight: 'bold'
                        },
                        animation: true,
                        animationDuration: 500
                    };
                }
                
                option.series[6].data.push([currentStep.time, currentStep.price]);
                myChart.setOption(option);
                
                step++;
            }, 1500);
        }
        
        // é‡ç½®å›¾è¡¨
        function resetChart() {
            initChart();
        }
        
        // åˆ‡æ¢æ“ä½œç‚¹æ˜¾ç¤º
        function toggleOperations() {
            showOperations = !showOperations;
            initChart();
        }
        
        // æ˜¾ç¤ºå®æ—¶æ›´æ–°ï¼ˆæ¨¡æ‹Ÿï¼‰
        function showRealtime() {
            alert('å®æ—¶æ•°æ®æ›´æ–°åŠŸèƒ½éœ€è¦è¿æ¥åˆ°å®é™…æ•°æ®æºã€‚\nå½“å‰ä¸ºæ¼”ç¤ºæ¨¡å¼ï¼Œæ˜¾ç¤ºçš„æ˜¯æ¨¡æ‹Ÿæ•°æ®ã€‚');
        }
        
        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        window.onload = function() {
            initChart();
        };
        
        // å“åº”çª—å£å¤§å°å˜åŒ–
        window.onresize = function() {
            if (myChart) {
                myChart.resize();
            }
        };
    </script>
</body>
</html>