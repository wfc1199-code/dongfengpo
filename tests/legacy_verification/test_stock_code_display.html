<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è‚¡ç¥¨ä»£ç æ˜¾ç¤ºæµ‹è¯•</title>
    <style>
        body {
            background: #0a0a0a;
            color: #fff;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
            padding: 20px;
        }

        .test-container {
            max-width: 800px;
            margin: 0 auto;
        }

        h1 {
            color: #ff6b35;
            margin-bottom: 30px;
        }

        .test-section {
            background: #111;
            border: 1px solid #2a2a2a;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
        }

        h2 {
            color: #e5e5e5;
            font-size: 16px;
            margin-bottom: 15px;
        }

        /* æ—§ç‰ˆCSS - æœ‰é—®é¢˜çš„ */
        .stock-item-old {
            display: grid;
            grid-template-columns: minmax(120px, 1fr) auto;
            align-items: center;
            gap: 12px;
            padding: 12px 15px;
            margin-bottom: 8px;
            background: #111111;
            border: 1px solid #2a2a2a;
            border-radius: 8px;
            border-left: 3px solid #ff6b35;
        }

        .stock-info-old {
            display: flex;
            flex-direction: column;
            gap: 4px;
            min-width: 0;  /* è¿™ä¼šå¯¼è‡´é—®é¢˜ï¼ */
        }

        .stock-code-old {
            font-size: 11px;
            color: #999999;
            font-family: 'Courier New', monospace;
            white-space: nowrap;
            line-height: 1.4;
        }

        /* æ–°ç‰ˆCSS - ä¿®å¤åçš„ */
        .stock-item-new {
            display: grid;
            grid-template-columns: 1fr auto;
            align-items: center;
            gap: 10px;
            padding: 12px 15px;
            margin-bottom: 8px;
            background: #111111;
            border: 1px solid #2a2a2a;
            border-radius: 8px;
            border-left: 3px solid #10b981;
        }

        .stock-info-new {
            display: flex;
            flex-direction: column;
            gap: 4px;
            min-width: 140px;  /* è®¾ç½®æœ€å°å®½åº¦ï¼ */
            flex-shrink: 1;
        }

        .stock-name {
            font-weight: 600;
            font-size: 13px;
            color: #ffffff;
            margin-bottom: 4px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .stock-code-new {
            font-size: 11px;
            color: #999999;
            font-family: 'Courier New', monospace;
            white-space: nowrap;
            line-height: 1.4;
            overflow: visible;  /* ç¡®ä¿ä¸è¢«æˆªæ–­ */
            text-overflow: clip;  /* ä¸ä½¿ç”¨çœç•¥å· */
        }

        .stock-metrics {
            display: flex;
            gap: 8px;
            align-items: center;
            flex-shrink: 0;
        }

        .metric {
            text-align: center;
            min-width: 42px;
        }

        .metric-label {
            font-size: 9px;
            color: #999999;
            display: block;
            margin-bottom: 2px;
        }

        .metric-value {
            font-weight: 600;
            font-size: 10px;
            color: #ffffff;
        }

        .status {
            padding: 10px;
            border-radius: 4px;
            margin-bottom: 10px;
            font-size: 12px;
        }

        .status.error {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            color: #ef4444;
        }

        .status.success {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
            color: #10b981;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ” è‚¡ç¥¨ä»£ç æ˜¾ç¤ºæµ‹è¯•</h1>

        <div class="test-section">
            <h2>âŒ æ—§ç‰ˆCSSï¼ˆæœ‰é—®é¢˜ï¼‰- min-width: 0</h2>
            <div class="status error">
                é—®é¢˜ï¼š.stock-info ä½¿ç”¨ min-width: 0 å¯¼è‡´å†…å®¹è¢«å‹ç¼©æˆªæ–­
            </div>

            <div class="stock-item-old">
                <div class="stock-info-old">
                    <div class="stock-name">Näº‘æ±‰</div>
                    <div class="stock-code-old">301563 | 09:32</div>
                </div>
                <div class="stock-metrics">
                    <div class="metric">
                        <span class="metric-label">æ¶¨å¹…</span>
                        <span class="metric-value">332.59%</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">æˆäº¤é¢</span>
                        <span class="metric-value">14.2äº¿</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">æ¢æ‰‹</span>
                        <span class="metric-value">87.2%</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">é‡æ¯”</span>
                        <span class="metric-value">70.5</span>
                    </div>
                </div>
            </div>

            <div class="stock-item-old">
                <div class="stock-info-old">
                    <div class="stock-name">Nç‘ç«‹</div>
                    <div class="stock-code-old">001285 | 09:33</div>
                </div>
                <div class="stock-metrics">
                    <div class="metric">
                        <span class="metric-label">æ¶¨å¹…</span>
                        <span class="metric-value">49.93%</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">æˆäº¤é¢</span>
                        <span class="metric-value">18.8äº¿</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">æ¢æ‰‹</span>
                        <span class="metric-value">68.0%</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">é‡æ¯”</span>
                        <span class="metric-value">40.3</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>âœ… æ–°ç‰ˆCSSï¼ˆä¿®å¤åï¼‰- min-width: 140px</h2>
            <div class="status success">
                ä¿®å¤ï¼š.stock-info ä½¿ç”¨ min-width: 140px ç¡®ä¿æ—¶é—´å®Œæ•´æ˜¾ç¤º
            </div>

            <div class="stock-item-new">
                <div class="stock-info-new">
                    <div class="stock-name">Näº‘æ±‰</div>
                    <div class="stock-code-new">301563 | 09:32</div>
                </div>
                <div class="stock-metrics">
                    <div class="metric">
                        <span class="metric-label">æ¶¨å¹…</span>
                        <span class="metric-value">332.59%</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">æˆäº¤é¢</span>
                        <span class="metric-value">14.2äº¿</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">æ¢æ‰‹</span>
                        <span class="metric-value">87.2%</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">é‡æ¯”</span>
                        <span class="metric-value">70.5</span>
                    </div>
                </div>
            </div>

            <div class="stock-item-new">
                <div class="stock-info-new">
                    <div class="stock-name">Nç‘ç«‹</div>
                    <div class="stock-code-new">001285 | 09:33</div>
                </div>
                <div class="stock-metrics">
                    <div class="metric">
                        <span class="metric-label">æ¶¨å¹…</span>
                        <span class="metric-value">49.93%</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">æˆäº¤é¢</span>
                        <span class="metric-value">18.8äº¿</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">æ¢æ‰‹</span>
                        <span class="metric-value">68.0%</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">é‡æ¯”</span>
                        <span class="metric-value">40.3</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>ğŸ“ ä¿®å¤è¯´æ˜</h2>
            <ul style="line-height: 1.8; color: #e5e5e5;">
                <li><strong>é—®é¢˜æ ¹æºï¼š</strong>CSS Grid ä¸­ min-width: 0 å…è®¸å­å…ƒç´ æ— é™æ”¶ç¼©</li>
                <li><strong>ä¿®å¤æ–¹æ³•ï¼š</strong>è®¾ç½® .stock-info { min-width: 140px } ä¿è¯æœ€å°å®½åº¦</li>
                <li><strong>ä¼˜åŒ–1ï¼š</strong>å‡å°‘ .stock-metrics gap ä» 12px åˆ° 8px</li>
                <li><strong>ä¼˜åŒ–2ï¼š</strong>å‡å°‘ .metric min-width ä» 50px åˆ° 42px</li>
                <li><strong>ä¼˜åŒ–3ï¼š</strong>.stock-code è®¾ç½® overflow: visible å’Œ text-overflow: clip</li>
            </ul>
        </div>
    </div>

    <script>
        // åœ¨Consoleè¾“å‡ºå®é™…å®½åº¦
        window.addEventListener('load', () => {
            const oldCode = document.querySelector('.stock-code-old');
            const newCode = document.querySelector('.stock-code-new');

            console.log('æ—§ç‰ˆ .stock-code å®é™…å®½åº¦:', oldCode.offsetWidth + 'px');
            console.log('æ–°ç‰ˆ .stock-code å®é™…å®½åº¦:', newCode.offsetWidth + 'px');

            const oldInfo = document.querySelector('.stock-info-old');
            const newInfo = document.querySelector('.stock-info-new');

            console.log('æ—§ç‰ˆ .stock-info å®é™…å®½åº¦:', oldInfo.offsetWidth + 'px');
            console.log('æ–°ç‰ˆ .stock-info å®é™…å®½åº¦:', newInfo.offsetWidth + 'px');
        });
    </script>
</body>
</html>